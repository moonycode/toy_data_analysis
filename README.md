## 데이터 분석 미니 프로젝트

### NHIS Join Collection NSC2_BND+M20에서 고혈압 환자 대상 분석

* dataset desc : 표본코호트DB 2.2 레이아웃
* refer : mongodb/findwithpandas.ipynb


#### 상관관계 확인
- 목표변수
    - 'ED_RC_TOT_AMT' 심결요양급여비용총액(심결본인부담금+심결보험자부담금)
    - => 분포 : unbalanced

- 제외할 변수
    - _id, RN_INDI, RN_KEY, RN_INST => 고유번호 
    - sick_sym1  은 모두 i10이므로 
    - COD1, COD2 레코드 수 너무 적어서
    - BTH_YYYY 기준년도-출생년도+1 -> 나이로 환산
    - DTH_YYYYMM 사망연월-출생년도+1 -> 나이로 환산(사망시 나이) 

- 설명변수(연속형)
    - STD_YYYY 기준년도
    - AGE 기준년도 나이 또는 사망나이
    - MDCARE_STRT_DT 요양개시일자 -> 연도로 환산
    - MDCARE_DD_CNT 요양일수
    - VSHSP_DD_CNT 입내원일수
    - TOT_PRSC_DD_CNT 총처방일수
    - EDC_ADD_RT 심결가산율

- 설명변수(범주형)
    - MCARE_RSLT_TYPE 진료결과구분
    - FORM_CD 서식코드
    - MCARE_SUBJ_CD 진료과목코드
    - OFIJ_TYPE 공상 등 구분
    - OPRTN_YN 수술여부

#### 분석 스토리 : 

<details open>
<summary>📕 Data Dictionary</summary>

| 번호 | 변수명             | 변수 설명             | 변수값 설명                                                  | 형식  | 길이 |
|-----|--------------------|------------------------|-------------------------------------------------------------|------|------|
| 1   | _id                |                        |                                                             |      |      |
| 2   | RN_INDI            | 개인고유번호           | 개인고유번호(7자리), 연계코드                               | 숫자 | 8    |
| 3   | BTH_YYYY           | 출생년도               | 표본 대상자의 출생년도(연령: 기준년도-출생년도도 산출)        | 문자 | 6    |
| 4   | DTH_YYYYMM         | 사망연월               | 사망자의 사망월 ... 통계청 사망원인 연계                       | 문자 | 6    |
| 5   | COD1               | 사망원인1              | 한국표준질병‧사인분류(KCD) 코드 사용                         | 문자 | 7    |
| 6   | COD2               | 사망원인2              | 사망원인이 S00-T98인 경우 상세 원인 기재(V01-Y98)            | 문자 | 7    |
| 7   | RN_KEY             | 청구고유번호           | 청구고유번호(14자리), 연계코드                              | 숫자 | 8    |
| 8   | RN_INST            | 요양기관고유번호       | 요양기관고유번호(6자리), 연계코드                           | 숫자 | 8    |
| 9   | MDCARE_STRT_DT     | 요양개시일자           | 수진자가 진료를 받기 시작한 일자                            | 문자 | 16   |
|     |                    |                        | 의과, 치과, 한방, 보건기관: 당월 요양개시일자 또는 내원일자   |      |      |
|     |                    |                        | 약국: 조제투약일자                                         |      |      |
| 10  | FORM_CD            | 서식코드               | 요양급여비용심사(의료보호)청구서 및 명세서의 진료 구분명세서   | 문자 | 4    |
| 11  | MCARE_SUBJ_CD      | 진료과목코드           | (병원급 이상)실제 진료를 받은 진료과목                       | 문자 | 4    |
|     |                    |                        | (의원)상병명에 해당하는 진료과목                            |      |      |
| 12  | SICK_SYM1          | 주상병                 | 진료기간 중 치료나 검사 등에 대한 환자의 요구가 가장 컸던 상병 | 문자 | 6    |
| 13  | OFIJ_TYPE          | 공상 등 구분           | 공상(공무상상해) 및 보훈, 군인, 차상위 희귀질환자 등에 해당되는 적용대상자 구분 코드 | 문자 | 2    |
|     |                    |                        | ※ 각 제도별 대상자 선정기준 및 적용 내용은 관련 법령 및 고시 참고 |      |      |
| 14  | OPRTN_YN           | 수술여부               | 0: 미수술                                                  | 문자 | 2    |
|     |                    |                        | 9: 수술                                                   |      |      |
| 15  | MDCARE_DD_CNT      | 요양일수               | 수진자를 진료한 총 일수(투약일수 포함)                      | 숫자 | 8    |
|     |                    |                        | ※ 입원일 경우 원내투약일수 포함                              |      |      |
|     |                    |                        | 0일 경우: 협진                                             |      |      |
| 16  | VSHSP_DD_CNT       | 입내원일수              | 수진자가 진료를 받기 위해 요양기관에 내원한 일수 (초진+재진) 또는 입원일수 | 숫자 | 8    |
| 17  | TOT_PRSC_DD_CNT    | 총처방일수              | 처방전에 기재된 처방약품별 처방일수 중 가장 긴 처방일수         | 숫자 | 8    |
|     |                    |                        | 처방일자별로 처방내역이 다른 경우에는 처방일수를 합산하여 기재 |      |      |
| 18  | MCARE_RSLT_TYPE    | 진료결과구분            | 최종진료일의 환자상태 구분                                  | 문자 | 


</details>

